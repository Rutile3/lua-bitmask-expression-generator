<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <title>Lua ビットマスク判定式ジェネレータ</title>

  <!-- 外部CSS -->
  <link rel="stylesheet" href="./styles.css">
</head>

<body>
  <div class="wrap">
    <h1>Lua ビットマスク判定式ジェネレータ</h1>
    <p class="lead">
      整数の集合から、整数ビットマスク・バイナリビットマスク・オフセット・Lua 判定式を生成します。<br>
      必要に応じて、範囲（min..max）を固定して生成することもできます。
    </p>

    <!-- 入力セクション -->
    <section class="section" id="inputSec">
      <h2>入力</h2>
      <div class="row">
        <div>
          <label for="set">整数の集合（カンマ/空白/改行区切り）</label>
          <textarea id="set" rows="1" placeholder="例: -4, -2, 1, 3, 5"></textarea>
          <div class="hint">※重複は自動除去・昇順ソート。非整数は無視します。</div>
        </div>
        <div class="inline">
          <label class="inline" style="margin:0;">
            <input type="checkbox" id="useRange" /> 範囲を固定する（minX..maxX）
          </label>
        </div>
        <div class="row" id="rangeRow" style="display:none;">
          <div>
            <label for="minX">最小（minX）</label>
            <input id="minX" type="number" inputmode="numeric" placeholder="例: -5" />
          </div>
          <div>
            <label for="maxX">最大（maxX）</label>
            <input id="maxX" type="number" inputmode="numeric" placeholder="例: 5" />
          </div>
        </div>
        <div class="actions">
          <button id="gen" class="btn-primary" type="button">生成</button>
          <button id="clear" class="btn-secondary" type="button">クリア</button>
        </div>
        <div id="msg" class="warn" style="display:none;" aria-live="polite" role="status"></div>
      </div>
    </section>

    <!-- 出力セクション -->
    <section class="section" id="outputSec">
      <h2>出力</h2>
      <div class="out-grid">
        <div class="out-row">
          <div class="out-key">整数ビットマスク</div>
          <div id="constDec" class="out-val">—</div>
          <button class="copy btn-secondary" data-copy="constDec">コピー</button>
        </div>
        <div class="out-row">
          <div class="out-key">バイナリビットマスク</div>
          <div id="constBin" class="out-val">—</div>
          <button class="copy btn-secondary" data-copy="constBin">コピー</button>
        </div>
        <div class="out-row">
          <div class="out-key">オフセット</div>
          <div id="offset" class="out-val">—</div>
          <button class="copy btn-secondary" data-copy="offset">コピー</button>
        </div>
        <div class="out-row">
          <div class="out-key">Lua 判定式（可読性重視）</div>
          <div id="luaReadable" class="out-val">—</div>
          <button class="copy btn-secondary" data-copy="luaReadable">コピー</button>
        </div>
        <div class="out-row">
          <div class="out-key">Lua 判定式（サイズ重視）</div>
          <div id="luaCompact" class="out-val">—</div>
          <button class="copy btn-secondary" data-copy="luaCompact">コピー</button>
        </div>
      </div>
    </section>
  </div>

  <!-- 外部JS（deferで安全にDOM後） -->
  <script src="./app.js" defer></script>
</body>

</html>