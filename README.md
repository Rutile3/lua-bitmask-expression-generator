
# Lua ビットマスク判定式ジェネレータ

整数の集合から、**整数ビットマスク・バイナリビットマスク・オフセット・Lua 判定式** を自動生成するWebツールです。
整数集合を入力するだけで、Lua 5.3以降で利用できる `>>`・`&` 演算を使った判定式を構築できます。

ブラウザ上で完結する静的サイトとして構成しており、
**GitHub Pages** でホスティングするだけで利用可能です。

> ⚠️ **このツールは現在開発途中です。**
> 機能は予告なく変更される可能性があり、正常に動作する保証はありません。
> ご利用は自己責任でお願いいたします。

---

## 🧩 主な機能

- 整数集合からビットマスクを自動生成
- **整数ビットマスク / バイナリビットマスク / オフセット / Lua 判定式** の同時出力
- 範囲固定モード（min..max）によるビット幅指定
- 結果の各項目をワンクリックでコピー可能
- （将来的に）Lua 5.1 / 5.2 用 bit/bit32 互換式にも対応予定

---

## 🛠 使用方法

1. このリポジトリをクローン、またはZIPでダウンロードします。

   ```bash
   git clone https://github.com/yourname/lua-bitmask-generator.git
   ```

2. 以下の3ファイルをGitHubリポジトリのルートディレクトリに配置します。

   ```directory
   index.html
   styles.css
   app.js
   ```

3. GitHub Pages を **mainブランチ / root** に設定して有効化します。

4. 公開されたURLにアクセスし、整数集合を入力して「生成」をクリック。

---

## 💡 生成される内容

| 項目名            | 説明                                     |
| -------------- | -------------------------------------- |
| 整数ビットマスク       | 各ビット位置を整数値化したもの（10進数）                  |
| バイナリビットマスク     | ビット列を2進文字列として表現                        |
| オフセット          | `x + offset` で 0..N の範囲に正規化するための値      |
| Lua 判定式（可読性重視） | `(MASK >> (x + offset)) & 1 == 1` 形式の式 |
| Lua 判定式（サイズ重視） | 括弧を省略した短縮版                             |

---

## 📈 処理の流れ

1. 入力文字列を解析して整数の集合へ変換（重複除去・昇順ソート）
2. 指定範囲（または自動推定のmin..max）をもとにビットマスクを構築
3. `v - min` をビットインデックスとして `1 << (v - min)` を積算
4. 結果を10進／2進で表示し、Lua式を自動生成
5. コピー操作でクリップボードに出力値をコピー

---

## 🖼 ファイル構成

```directory
├── index.html   # メインページ（Bootstrap 5.3.3 / 静的構成）
├── styles.css   # 出力グリッドとレイアウト定義
└── app.js       # 入力解析・マスク生成・出力レンダリングロジック
```

---

## 🧱 技術スタック

* HTML5 + CSS3 (Bootstrap 5.3.3)
* JavaScript (ES2020以降)
* Clipboard API（コピー機能）
* GitHub Pages対応（サーバ不要）

---

## 📄 ライセンス

MIT License
